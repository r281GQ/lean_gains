webpackJsonp([3],{1306:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var a=r(["\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0px;\n  text-align: center;\n  width: 100%;\n"],["\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0px;\n  text-align: center;\n  width: 100%;\n"]),o=r(["\n  position: relative;\n  overflow: hidden;\n"],["\n  position: relative;\n  overflow: hidden;\n"]),u=r(["\n  float: left;\n  width: 66%;\n"],["\n  float: left;\n  width: 66%;\n"]),i=r(["\n  float: right;\n  width: 33%;\n"],["\n  float: right;\n  width: 33%;\n"]),l=n(0),f=e(l),c=n(1363),s=e(c),d=n(50),p=e(d),m=(n(16),n(25)),y=n(1358),g=e(y),_=p.default.div(a),h=(p.default.div(o),p.default.div(u)),v=p.default.div(i),b=function(){return f.default.createElement("div",null,f.default.createElement(h,null,f.default.createElement(s.default,null)),f.default.createElement(v,null,f.default.createElement(_,null," ",f.default.createElement(m.FlatButton,{label:"Here you can see and edit the already consumed nutritions",disabled:!0}),"   "),f.default.createElement(g.default,null)))};t.default=b}).call(this)}finally{}},1310:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=e(r),o=n(1),u=e(o),i=n(25),l=function(e){var t=e.label;return a.default.createElement(i.FlatButton,{type:"submit",label:t})};l.propTypes={label:u.default.string.isRequired},t.default=l}).call(this)}finally{}},1313:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["text-align: center;"],["text-align: center;"]),a=n(0),o=e(a),u=n(50),i=e(u),l=(n(25),n(1310)),f=e(l),c=i.default.div(r),s=function(e){return o.default.createElement(c,null,o.default.createElement(f.default,e))};t.default=s}).call(this)}finally{}},1323:function(e,t,n){try{(function(){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.initializeCalorieLog=t.updateCalorieLog=t.search=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(72),o=n(49),u=e(o),i=n(97),l=function(e){return e&&e.__esModule?e:{default:e}}(i),f=n(18),c=n(1366),s=n(251),d=e(s),p=n(255),m=e(p),y=function(e){return function(t,n){t({type:d.INIT_API}),n().getIn(["app","openConsentModalDate"])?l.default.put("/api/calorielogs",u.map(e,function(e){return r({},e,{measures:u.toArray(e.measures)})}),{credentials:!0,params:{day:n().getIn(["app","selectedDayCalorieLog"])}}).then(function(e){e.data;return l.default.get("/api/calorielogs",{credentials:!0,params:{day:n().getIn(["app","openConsentModalDate"])}})}).then(function(e){var r=e.data;t({type:m.WRITE_CALORIE_LOG,payload:r}),t((0,a.initialize)("calorie-track",(0,f.Map)().set("foods",n().getIn(["calorieLog","nutritions"])))),t({type:d.SET_CALORIE_LOG_DAY,payload:n().getIn(["app","openConsentModalDate"])}),t({type:d.CLOSE_CONSENT_MODAL}),t({type:d.CLOSE_API})}).catch(function(e){t({type:d.CLOSE_API}),console.log(e)}):l.default.put("/api/calorielogs",u.map(e,function(e){return r({},e,{measures:u.toArray(e.measures)})}),{credentials:!0,params:{day:n().getIn(["app","selectedDayCalorieLog"])}}).then(function(e){var r=e.data;t({type:m.WRITE_CALORIE_LOG,payload:r}),t((0,a.initialize)("calorie-track",(0,f.Map)().set("foods",n().getIn(["calorieLog","nutritions"])))),t({type:d.CLOSE_API})}).catch(function(e){t({type:d.CLOSE_API}),console.log(e)})}},g=function(){return function(e,t){e({type:d.INIT_FETCH}),l.default.get("/api/calorielogs",{credentials:!0}).then(function(n){var r=n.data;e({type:m.WRITE_CALORIE_LOG,payload:r}),e((0,a.initialize)("calorie-track",(0,f.Map)().set("foods",t().getIn(["calorieLog","nutritions"])))),e({type:d.CLOSE_FETCH})}).catch(function(t){e({type:d.CLOSE_FETCH}),console.log(t)})}},_=function(e){return function(e){return e((0,a.arrayPush)("calorie-track","foods",(0,c.mapValues)((0,c.mock)())))}};t.search=_,t.updateCalorieLog=y,t.initializeCalorieLog=g}).call(this)}finally{}},1325:function(e,t){e.exports={dev:{nutritionix:{API_ENDPOINT:"https://trackapi.nutritionix.com/v2/natural/nutrients",REF_KEY:0,APP_KEY:"a9ff02753543e452faaaa3bb2936e49e",APP_ID:"8c0712d2"},google:{clientID:"56080005932-nnum0pt5mskl42il4k7nj86iqgb3rfuq.apps.googleusercontent.com",clientSecret:"UkD_2Fu9Xs5s7q_RK6SQ79mX"},cookie:"sadvmnegeifvl",mongodb:"mongodb://endre_vegh:sdfsdfdfsdfsdfsdf343rgdfsd2e@ds129733.mlab.com:29733/lean_gains_dev"}}},1338:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0px;\n  text-align: center;\n  width: 50%;\n"],["\n  margin-left: auto;\n  margin-right: auto;\n  padding: 0px;\n  text-align: center;\n  width: 50%;\n"]),a=n(0),o=e(a),u=n(1),i=e(u),l=n(25),f=n(50),c=e(f),s=c.default.div(r),d=function(e){var t=e.sum;return o.default.createElement(s,null,o.default.createElement(l.FlatButton,{label:"Calories so far: "+t.calories+" P:"+t.protein+" C: "+t.carbohydrate+" F: "+t.fat,disabled:!0}))};d.propTypes={sum:i.default.shape({calories:i.default.number,protein:i.default.number,carbohydrate:i.default.number,fat:i.default.number})},t.default=d}).call(this)}finally{}},1339:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=e(r),o=n(72),u=n(1341),i=e(u),l=function(){return a.default.createElement(o.FieldArray,{name:"foods",component:i.default})};t.default=l}).call(this)}finally{}},1340:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=e(r),o=n(1),u=e(o),i=n(25),l=function(e){var t=e.onKeyPressHandler;return a.default.createElement(i.TextField,{fullWidth:!0,name:"search",floatingLabelText:"search for nutritions",onKeyPress:t})};l.propTypes={onKeyPressHandler:u.default.func.isRequired},t.default=l}).call(this)}finally{}},1341:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(e),a=n(72),o=n(25),u=n(96),i=n(49),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),f=function(e){var t=e.fields,n=t.map,i=t.get,f=t.remove;return r.default.createElement("div",null,n(function(e,t){return r.default.createElement(o.Card,{key:t},r.default.createElement(o.CardHeader,{showExpandableButton:!0,actAsExpander:!0,title:i(t).get("name"),subtitle:r.default.createElement("div",null,"Protein : ",i(t).get("protein")+"  ","Carbohydrate: ",i(t).get("carbohydrate")+"  ","Fat: ",i(t).get("fat")+"  ","Calories: ",i(t).get("calorie")+"  ","Serving quantity: ",i(t).get("quantity")+"  ","Serving unit: ",i(t).get("unit")+"  "),avatar:i(t).getIn(["photo","thumb"])}),r.default.createElement(o.CardText,{expandable:!0},r.default.createElement("div",null,r.default.createElement(a.Field,{component:u.SelectField,name:e+".unit",fullWidth:!0,floatingLabelText:"serving unit"},l.map(i(t).get("measures").toJS(),function(e){var t=e.name,n=e.weight;return r.default.createElement(o.MenuItem,{key:t,value:t,primaryText:"Meausure : "+t+"  Weight: "+n})}))),r.default.createElement(a.Field,{name:e+".quantity",component:u.TextField,floatingLabelText:"serving quantity",type:"number",min:1})),r.default.createElement(o.CardActions,null,r.default.createElement(o.FlatButton,{label:"remove from list",onTouchTap:function(){return f(t)}})))}))};t.default=f}).call(this)}finally{}},1358:function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(u),l=n(72),f=n(16),c=n(1323),s=n(98),d=n(25),p=n(49),m=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(p),function(e,t,n,r,a){return[i.default.createElement(d.FlatButton,{label:"Cancel",onTouchTap:function(){e()}}),i.default.createElement(d.FlatButton,{label:"Discard",onTouchTap:function(){a(),e(),n(r)}}),i.default.createElement(d.FlatButton,{label:"Save",primary:!0,onTouchTap:function(){t()}})]}),y=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),o(n,[{key:"componentDidMount",value:function(){this.props.initializeCalorieLog()}},{key:"render",value:function(){var e=this.props,t=e.loadNutritionsForDay,n=e.selectedDay,r=e.isConsentModalOpen,a=e.closeConsentModal,o=e.saveForm,u=e.addConsent;return this.props.isFetching?i.default.createElement(d.LinearProgress,null):i.default.createElement("div",null,i.default.createElement(d.DatePicker,{name:"f",onChange:function(e,n){return t(n)},value:n}),i.default.createElement(d.FlatButton,{label:"update day",onTouchTap:function(){return o()}}),i.default.createElement(d.Dialog,{open:r,title:"you have unsaved chnages in the foods, if you procedd these will be lost",actions:m(a,o,t,this.props.da,u)}))}}]),n}(u.PureComponent),g=function(e){return{da:e.getIn(["app","openConsentModalDate"]),isFetching:e.getIn(["app","isFetching"]),selectedDay:e.getIn(["app","selectedDayCalorieLog"]),isConsentModalOpen:e.getIn(["app","isConsentModalOpen"])}},_=function(e){return{initializeCalorieLog:function(){return e((0,c.initializeCalorieLog)())},loadNutritionsForDay:function(t){return e((0,s.loadNutritionsForDay)(t))},closeConsentModal:function(){return e((0,s.closeConsentModal)())},saveForm:function(){return e((0,l.submit)("calorie-track"))},addConsent:function(){return e({type:"addConsent"})}}};t.default=(0,f.connect)(g,_)(y)}).call(this)}finally{}},1363:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),l=e(i),f=n(72),c=(n(18),n(16)),s=n(49),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),p=n(1340),m=e(p),y=n(1313),g=(e(y),n(1338)),_=e(g),h=n(1339),v=e(h),b=n(1370),E=e(b),O=n(1323),P=function(e){function t(){var e,n,o,u;r(this,t);for(var i=arguments.length,l=Array(i),f=0;f<i;f++)l[f]=arguments[f];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o._onKeyPressHandler=function(e){var t=e.key,n=e.target.value;if("Enter"===t){(0,o.props.search)(n),n=""}},o._roundAndConvertSum=function(e){return e.map(function(e){return d.round(e)})},u=n,a(o,u)}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.updateCalorieLog,r=e.sum;return l.default.createElement("div",null,l.default.createElement(_.default,{sum:this._roundAndConvertSum(r).toJS()}),l.default.createElement(m.default,{onKeyPressHandler:this._onKeyPressHandler}),l.default.createElement("form",{onSubmit:t(function(e){n(e.get("foods").toJS())})},l.default.createElement(v.default,null)))}}]),t}(i.PureComponent),C=function(e){return{search:function(t){return e((0,O.search)(t))},updateCalorieLog:function(t){return e((0,O.updateCalorieLog)(t))}}},w=function(e){return{sum:(0,E.default)(e)}};t.default=(0,c.connect)(w,C)((0,f.reduxForm)({form:"calorie-track",onSubmit:function(e,t,n){return t((0,O.updateCalorieLog)(e.get("foods").toJS()))},shouldValidate:function(){return!0}})(P))}).call(this)}finally{}},1366:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareAPI=t.mock=t.formatResponse=t.mapValues=void 0;var r=n(97),a=e(r),o=n(49),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=n(18),l=n(1325),f=e(l),c=f.default.dev.nutritionix,s=c.API_ENDPOINT,d=c.REF_KEY,p=c.APP_KEY,m=c.APP_ID,y=function(e){return(0,a.default)({url:s,method:"POST",data:{query:e},headers:{"x-app-id":m,"x-app-key":p,"x-remote-user-id":d}})},g=function(e){return(0,i.fromJS)({quantity:e.quantity,calorie:e.nf_calories,name:e.food_name,gram:e.serving_weight_grams,protein:e.nf_protein,carbohydrate:e.nf_total_carbohydrate,unit:e.serving_unit,fat:e.nf_total_fat,photo:e.photo,tags:u.omit(e.tags,["measure","quantity"]),measures:u.mapValues(e.alt_measures,function(e){return{name:e.measure,weight:e.serving_weight}})})},_=function(e){return u.map(e.data.foods,function(e){return u.extend(u.pick(e,["serving_weight_grams","nf_protein","food_name","nf_total_carbohydrate","serving_unit","nf_total_fat","alt_measures","photo","tags","nf_calories"]),{quantity:1})})[0]},h=function(){return{serving_weight_grams:182,nf_protein:.47,food_name:"apple",nf_total_carbohydrate:25.13,serving_unit:"medium",nf_total_fat:.31,alt_measures:{0:{serving_weight:242,measure:"NLEA serving",seq:7,qty:1},2:{serving_weight:182,measure:"medium",seq:7,qty:1},1:{serving_weight:149,measure:"small (2-3/4",seq:5,qty:1}},photo:{thumb:"https://d2xdmhkmkbyw75.cloudfront.net/384_thumb.jpg",highres:"https://d2xdmhkmkbyw75.cloudfront.net/384_highres.jpg"},tags:{item:"apple",measure:null,quantity:"1.0",tag_id:384},nf_calories:94.64,quantity:1}};t.mapValues=g,t.formatResponse=_,t.mock=h,t.prepareAPI=y}).call(this)}finally{}},1370:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n(18),r=n(73),a=n(72),o=(0,a.formValueSelector)("calorie-track"),u=function(t){return o(t,"foods")||(0,e.List)()},i=function(e){return e.get("measures").find(function(t){return t.get("name")===e.get("unit")}).get("weight")},l=function(t){return t.reduce(function(e,t){return e.withMutations(function(e){return e.update("protein",function(e){return e+t.get("protein")*(i(t)/t.get("gram")*t.get("quantity"))}).update("carbohydrate",function(e){return e+t.get("carbohydrate")*(i(t)/t.get("gram")*t.get("quantity"))}).update("fat",function(e){return e+t.get("fat")*(i(t)/t.get("gram")*t.get("quantity"))}).update("calories",function(e){return e+t.get("calorie")*(i(t)/t.get("gram")*t.get("quantity"))})})},(0,e.fromJS)({calories:0,protein:0,carbohydrate:0,fat:0}))};t.default=(0,r.createSelector)(u,l)}).call(this)}finally{}}});